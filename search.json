[{"path":"https://rmi-pacta.github.io/pacta.multi.loanbook/LICENSE.html","id":null,"dir":"","previous_headings":"","what":"MIT License","title":"MIT License","text":"Copyright (c) 2024 RMI-PACTA Permission hereby granted, free charge, person obtaining copy software associated documentation files (“Software”), deal Software without restriction, including without limitation rights use, copy, modify, merge, publish, distribute, sublicense, /sell copies Software, permit persons Software furnished , subject following conditions: copyright notice permission notice shall included copies substantial portions Software. SOFTWARE PROVIDED “”, WITHOUT WARRANTY KIND, EXPRESS IMPLIED, INCLUDING LIMITED WARRANTIES MERCHANTABILITY, FITNESS PARTICULAR PURPOSE NONINFRINGEMENT. EVENT SHALL AUTHORS COPYRIGHT HOLDERS LIABLE CLAIM, DAMAGES LIABILITY, WHETHER ACTION CONTRACT, TORT OTHERWISE, ARISING , CONNECTION SOFTWARE USE DEALINGS SOFTWARE.","code":""},{"path":[]},{"path":"https://rmi-pacta.github.io/pacta.multi.loanbook/articles/company_alignment_metric.html","id":"the-use-case-for-aggregated-alignment-metrics","dir":"Articles","previous_headings":"1. Background","what":"1.1 The use case for aggregated alignment metrics","title":"Calculation of a company alignment metric","text":"company alignment metric described intended help make sense alignment patterns large analyses, e.g. case supervisory analysis banking system, many loan books compared. situations, high level results helpful highlighting important patterns warrant -depth analysis granular standard PACTA metrics. Identifying patterns means need reduce information manageable quantity. inevitably leads loss granularity, justifiable summarizing main findings, long outcomes consistent main PACTA metrics. choose approach first aggregates company alignment relative metric company/sector level PACTA sectors company operates . methodology calculating metric provided market share approach sectoral decarbonization approach.","code":""},{"path":[]},{"path":"https://rmi-pacta.github.io/pacta.multi.loanbook/articles/company_alignment_metric.html","id":"basic-concepts-of-the-company-alignment-metric","dir":"Articles","previous_headings":"2. The company alignment metric","what":"2.1 Basic concepts of the company alignment metric","title":"Calculation of a company alignment metric","text":"section, derive company alignment metric mathematically provide interpretations relevant pieces. practice, metric often calculate time t=5t = 5, can calculated point time, generalise. companies operating sectors clear technology transitions take place, certain technologies need built (BOBO) whilst others need phased (POPO). define direction dd technology aa sector bb : da,b={BOif low-carbon technologyPOif high-carbon technology, d_{,b} =   \\begin{cases}     BO       & \\quad \\text{} \\text{ low-carbon technology}\\\\     PO  & \\quad \\text{} \\text{ high-carbon technology}   \\end{cases}, low-carbon technology high-carbon technology mutually exclusive categories. forward-looking production plan pp company cc technology aa sector bb time tt : pa,b,c,d,tp_{,b,c,d,t} means sector level, get net production plan : pb,c,t=∑∀∈bpa,b,c,d,tp_{b,c,t} = \\sum_{\\forall \\b} p_{,b,c,d,t} Correspondingly, scenario-based production value ss company cc technology aa sector bb time tt : sa,b,c,d,ts_{,b,c,d,t} sector level, therefore get net scenario-based production value : sb,c,t=∑∀∈bsa,b,c,d,ts_{b,c,t} = \\sum_{\\forall \\b} s_{,b,c,d,t} define directional dummy variable DD technology aa, given direction dd sector bb : Da,b,d={1if da,b=BO−1if da,b=PO D_{,b,d} =   \\begin{cases}     1       & \\quad \\text{} d_{,b} = BO\\\\     -1  & \\quad \\text{} d_{,b} = PO   \\end{cases} definitions, calculate total technology deviation (Δtotal\\Delta total) company cc technology aa sector bb time tt : Δtotala,b,c,d,t=(pa,b,c,d,t−sa,b,c,d,t)×Da,b,d\\Delta total_{,b,c,d,t} = (p_{,b,c,d,t} - s_{,b,c,d,t}) \\times D_{,b,d} Note total technology deviation considered aligned >= 0 misaligned < 0. Directional dummy ensures case build phase technologies.","code":""},{"path":"https://rmi-pacta.github.io/pacta.multi.loanbook/articles/company_alignment_metric.html","id":"addressing-scenarios-with-bridge-technologies","dir":"Articles","previous_headings":"2. The company alignment metric > 2.1 Basic concepts of the company alignment metric","what":"2.1.1 Addressing scenarios with bridge technologies","title":"Calculation of a company alignment metric","text":"case technology trajectory transition scenario clearly classified build phase technology near medium term, treat technology bridge technology. specifically, case, production trajectory technology remains stagnant changes vary direction time frame needed carry new investments. Usually, bridge technology high-carbon technology less emissions intensive high-carbon technologies need phased first. Whether technology considered bridge technology therefore depends largely scenario assumptions sometimes differ regions even within scenario. bridge technology considered high-carbon principle, yet phased , need apply calculation incentivises production planning close scenario-based value possible. ensures overshoot undershoot lead deteriorating alignment metrics. therefore use two-sided misalignment logic, adjusts total technology deviation bridge technology aa time tt : Δtotala,b,c,d,tbridge=−|pa,b,c,d,t−sa,b,c,d,t|\\Delta total_{,b,c,d,t}^{bridge} = -|p_{,b,c,d,t} - s_{,b,c,d,t}| Contrary standard formulation technology alignment deviation, technology deviation bridge technology maximum 0, basis production forecast exactly meets scenario-based value time tt. deviation considered misalignment. remainder calculation remains unchanged.","code":""},{"path":"https://rmi-pacta.github.io/pacta.multi.loanbook/articles/company_alignment_metric.html","id":"net-aggregate-company-alignment-metric","dir":"Articles","previous_headings":"2. The company alignment metric","what":"2.2 Net aggregate company alignment metric","title":"Calculation of a company alignment metric","text":"Based total technology deviations calculated , can now derive net aggregate company alignment metric yy. derive net aggregate company alignment metric, first define calculate total deviation company cc sector bb time tt : Δtotalb,c,t=∑∀∈bΔtotala,b,c,d,t\\Delta total_{b,c,t} = \\sum_{\\forall \\b} \\Delta total_{,b,c,d,t} note total scenario-based value company cc sector bb time tt : totalb,c,tscen=sb,c,t=∑∀∈bsa,b,c,d,ttotal_{b,c,t}^{scen} = s_{b,c,t} = \\sum_{\\forall \\b} s_{,b,c,d,t} definitions, derive net aggregate company alignment metric yy company cc sector bb time tt : yb,c,t=Δtotalb,c,ttotalb,c,tsceny_{b,c,t} = \\dfrac{\\Delta total_{b,c,t}}{total_{b,c,t}^{scen}}","code":""},{"path":"https://rmi-pacta.github.io/pacta.multi.loanbook/articles/company_alignment_metric.html","id":"interpretation","dir":"Articles","previous_headings":"2. The company alignment metric > 2.2 Net aggregate company alignment metric","what":"Interpretation:","title":"Calculation of a company alignment metric","text":"Net Aggregate Company Alignment Metric summary alignment company sector across relevant technologies within sector. intended overall summary metric shows company aligned climate scenario aggregate. , metric meant starting point analysis. can used basis aggregate alignments individual companies loan book get high level overview alignment loan book. can also used disaggregate company alignment metric obtain granular insights underlying drivers. general, yb,c,t>=0y_{b,c,t} >= 0 means company - aggregate - aligned climate scenario, whereas yb,c,t<0y_{b,c,t} < 0 means misaligned. technologies sector company operates , measure directional deviation corresponding scenario-based value time tt. positive value deviation indicates alignment negative value indicates misalignment, regardless direction technology given scenario. sum deviations across technologies divided company’s sector level scenario value time tt. returns percent deviation company production scenario value tt, y=0y = 0 means deviation, y=1y = 1 means company one hundred percent terms buildout phaseout needs y=−0.5y = -0.5 means fifty percent less needs according scenario values. Note metric show exactly (mis)alignment comes . Hence, following analysis granular level always good idea.","code":""},{"path":"https://rmi-pacta.github.io/pacta.multi.loanbook/articles/company_alignment_metric.html","id":"build-out-and-phase-out-company-alignment-metric","dir":"Articles","previous_headings":"2. The company alignment metric","what":"2.3 Build out and phase out company alignment metric","title":"Calculation of a company alignment metric","text":"One particular strength PACTA metrics sectors technology pathways surface misalignment technology level, matters particularly sectors include build phase technologies. Transition scenarios often assume particular technologies must phased order remain within carbon budget. Therefore, alignment metrics obscure need phase build technologies simply adding bidirectional technology deviations. account , define disaggregation net aggregate company alignment metric build phase drivers. falls short maximum granularity design, ensures opposite trends build phase obscured analysis. disaggregation net aggregate company alignment metric BOBO POPO drivers designed resulting sum disaggregated metrics equals net metric, build phase technologies mutually exclusive sets. calculate BOBO POPO company alignment metrics, need derive total deviation company cc technology direction dd sector bb time tt : Δtotalb,c,d,t=∑∀∈b,dΔtotala,b,c,d,t\\Delta total_{b,c,d,t} = \\sum_{\\forall \\b,d} \\Delta total_{,b,c,d,t} BOBO(POPO) company alignment metric yy company cc technology direction dd sector bb time tt defined : yb,c,d,t=Δtotalb,c,d,ttotalb,c,tsceny_{b,c,d,t} = \\dfrac{\\Delta total_{b,c,d,t}}{total_{b,c,t}^{scen}} Note denominator remains net level sum disaggregated metrics net metric: yb,c,d=BO,t+yb,c,d=PO,t=Δtotalb,c,d=BO,t+Δtotalb,c,d=PO,ttotalb,c,tscen=Δtotalb,c,ttotalb,c,tscen=yb,c,ty_{b,c,d=BO,t} + y_{b,c,d=PO,t} = \\dfrac{\\Delta total_{b,c,d=BO,t} + \\Delta total_{b,c,d=PO,t}}{total_{b,c,t}^{scen}} = \\dfrac{\\Delta total_{b,c,t}}{total_{b,c,t}^{scen}} = y_{b,c,t} must true every technology aa must one one direction d∈{BO,PO}d \\\\left\\{BO,PO\\right\\}.","code":""},{"path":"https://rmi-pacta.github.io/pacta.multi.loanbook/articles/company_alignment_metric.html","id":"interpretation-1","dir":"Articles","previous_headings":"2. The company alignment metric > 2.3 Build out and phase out company alignment metric","what":"Interpretation:","title":"Calculation of a company alignment metric","text":"Previously, mentioned aggregated value yb,c,ty_{b,c,t} indicate sources (mis)alignment can found. disaggregation BOBO POPO drivers company aggregate alignment metric aims provide high level overview just . essence, yb,c,d,ty_{b,c,d,t} adds technology deviations either buildout phaseout technologies, still dividing sector level scenario value company (including technologies). means get simple disaggregation overall alignment metric sum parts. Hence, read indicator isolation. However, disaggregation can helpful determining overall alignment driven lack buildout slow phaseout. Additionally, may look like overall alignment near target yb,c,ty_{b,c,t} close zero may theory composed significantly overaligned buildout significantly misaligned phaseout vice versa. goes show , companies active sectors buidlout phaseout technologies, important understand drivers behind overall alignment metric.","code":""},{"path":"https://rmi-pacta.github.io/pacta.multi.loanbook/articles/company_alignment_metric.html","id":"net-aggregate-company-alignment-metric-in-emissions-intensity-sectors","dir":"Articles","previous_headings":"2. The company alignment metric","what":"2.4 Net aggregate company alignment metric in emissions intensity sectors","title":"Calculation of a company alignment metric","text":"sectors alignment calculated using emissions intensity metrics distinction build phase technologies. means net aggregate company alignment metric emissions intensity sectors y*y^* calculation metric much straight forward. Let emissions intensity based forward-looking production plan p*p^* company cc sector bb time tt: pb,c,t*p_{b,c,t}^* also define scenario-based emissions intensity value s*s^* company cc sector bb time tt : sb,c,t*s_{b,c,t}^* derive total emissions intensity deviation (Δtotal*\\Delta total^*) company cc sector bb time tt: Δtotalb,c,t*=pb,c,t*−sb,c,t*\\Delta total_{b,c,t}^* = p_{b,c,t}^* - s_{b,c,t}^* follows alignment measure y*y^* company cc based emissions intensities sector bb time tt : yb,c,t*=Δtotalb,c,t*sb,c,ty_{b,c,t}^* = \\dfrac{\\Delta total_{b,c,t}^*}{s_{b,c,t}}","code":""},{"path":"https://rmi-pacta.github.io/pacta.multi.loanbook/articles/company_alignment_metric.html","id":"interpretation-2","dir":"Articles","previous_headings":"2. The company alignment metric > 2.4 Net aggregate company alignment metric in emissions intensity sectors","what":"Interpretation:","title":"Calculation of a company alignment metric","text":"company alignment metric emissions intensity sectors yb,c,t*y_{b,c,t}^* follows similar logic one sectors technology pathways, measures percent deviation emissions intensity time tt company scenario-based emissions intensity time tt. , means yb,c,t*=0y_{b,c,t}^* = 0 describes company right track emissions intensity relative scenario-based value, whereas yb,c,t*=1y_{b,c,t}^* = 1 means emissions intensity one hundred percent better (lower) required scenario value yb,c,t*=−0.5y_{b,c,t}^* = -0.5 means emissions intensity fifty percent worse (higher) implied scenario value. disaggregation emissions intensity based metrics, calculated sector level begin .","code":""},{"path":"https://rmi-pacta.github.io/pacta.multi.loanbook/articles/config_yml.html","id":"intro","dir":"Articles","previous_headings":"","what":"Intro","title":"Configuring the application","text":"functions package require path config.yml file input. structure allows easily reviewed file contains relevant parameters / used given multi-loanbook analysis. full documentation option.","code":""},{"path":"https://rmi-pacta.github.io/pacta.multi.loanbook/articles/config_yml.html","id":"preface","dir":"Articles","previous_headings":"","what":"Preface","title":"Configuring the application","text":"config file separated top-level “sections” contain contextually similar options. top-level sections documented well , note top-level sections never value directly associated . Also note config file must top-level section default. related feature yaml package facilitates targeting different config sets different purposes. Technically, one leverage use pacta.multi.loanbook, recommended.","code":""},{"path":[]},{"path":"https://rmi-pacta.github.io/pacta.multi.loanbook/articles/config_yml.html","id":"directories","dir":"Articles","previous_headings":"Options","what":"directories:","title":"Configuring the application","text":"directories section contains options define locally accessible paths input output data found saved. full example directories section might look like:","code":"directories:     dir_scenario: \"~/Desktop/test/scenario\"     dir_abcd: \"~/Desktop/test/abcd\"     dir_raw: \"~/Desktop/test/raw\"     dir_matched: \"~/Desktop/test/matched\"     dir_output: \"~/Desktop/test/output\""},{"path":"https://rmi-pacta.github.io/pacta.multi.loanbook/articles/config_yml.html","id":"dir_scenario","dir":"Articles","previous_headings":"Options > directories:","what":"dir_scenario","title":"Configuring the application","text":"dir_scenario path directory contains scenario data used. must single string/character value, must refer valid, accessible, local directory. example:","code":"dir_scenario: \"~/Desktop/test/scenario\""},{"path":"https://rmi-pacta.github.io/pacta.multi.loanbook/articles/config_yml.html","id":"dir_abcd","dir":"Articles","previous_headings":"Options > directories:","what":"dir_abcd","title":"Configuring the application","text":"dir_abcd path directory contains asset based company production data used. must single string/character value, must refer valid, accessible, local directory. example:","code":"dir_abcd: \"~/Desktop/test/abcd\""},{"path":"https://rmi-pacta.github.io/pacta.multi.loanbook/articles/config_yml.html","id":"dir_raw","dir":"Articles","previous_headings":"Options > directories:","what":"dir_raw","title":"Configuring the application","text":"dir_raw path directory contains raw loanbook data used. must single string/character value, must refer valid, accessible, local directory. example:","code":"dir_raw: \"~/Desktop/test/raw\""},{"path":"https://rmi-pacta.github.io/pacta.multi.loanbook/articles/config_yml.html","id":"dir_matched","dir":"Articles","previous_headings":"Options > directories:","what":"dir_matched","title":"Configuring the application","text":"dir_matched path directory contains matched loanbook data used. must single string/character value, must refer valid, accessible, local directory. example:","code":"dir_matched: \"~/Desktop/test/matched\""},{"path":"https://rmi-pacta.github.io/pacta.multi.loanbook/articles/config_yml.html","id":"dir_output","dir":"Articles","previous_headings":"Options > directories:","what":"dir_output","title":"Configuring the application","text":"dir_output path directory outputs saved. must single string/character value, must refer valid, accessible, local directory. example:","code":"dir_output: \"~/Desktop/test/output\""},{"path":"https://rmi-pacta.github.io/pacta.multi.loanbook/articles/config_yml.html","id":"file_names","dir":"Articles","previous_headings":"Options","what":"file_names:","title":"Configuring the application","text":"file_names section contains options define file names locally accessible files found directories defined directories section. directories file names defined separately allow flexibility input output files stored. full example file_names section might look like:","code":"file_names:     filename_scenario_tms: \"scenarios_2022_p4b.csv\"     filename_scenario_sda: \"scenarios_2022_ei_p4b.csv\"     filename_abcd: \"2023-02-17_AI_RMI_PACTA for Banks Free dataset_EO_2022Q4.xlsx\"     sheet_abcd: \"Company Indicators - PACTA Comp\""},{"path":"https://rmi-pacta.github.io/pacta.multi.loanbook/articles/config_yml.html","id":"filename_scenario_tms","dir":"Articles","previous_headings":"Options > file_names:","what":"filename_scenario_tms","title":"Configuring the application","text":"filename_scenario_tms filename file contains production based scenario data. must single string/character value, must refer valid, accessible, local file. example:","code":"filename_scenario_tms: \"scenarios_2022_p4b.csv"},{"path":"https://rmi-pacta.github.io/pacta.multi.loanbook/articles/config_yml.html","id":"filename_scenario_sda","dir":"Articles","previous_headings":"Options > file_names:","what":"filename_scenario_sda","title":"Configuring the application","text":"filename_scenario_sda filename file contains emission intensity based scenario data. must single string/character value, must refer valid, accessible, local file. example:","code":"filename_scenario_sda: \"scenarios_2022_ei_p4b.csv\""},{"path":"https://rmi-pacta.github.io/pacta.multi.loanbook/articles/config_yml.html","id":"filename_abcd","dir":"Articles","previous_headings":"Options > file_names:","what":"filename_abcd","title":"Configuring the application","text":"filename_abcd filename file contains asset based company data, including production values physical emission intensity values. must single string/character value, must refer valid, accessible, local file. example:","code":"filename_abcd: \"2023-02-17_AI_RMI_PACTA for Banks Free dataset_EO_2022Q4.xlsx\""},{"path":"https://rmi-pacta.github.io/pacta.multi.loanbook/articles/config_yml.html","id":"sheet_abcd","dir":"Articles","previous_headings":"Options > file_names:","what":"sheet_abcd","title":"Configuring the application","text":"sheet_abcd name sheet contains asset based company data file defined filename_abcd stored directory defined dir_abcd. must single string/character value, must refer valid, accessible, sheet name appropriate file. example:","code":"sheet_abcd: \"Company Indicators - PACTA Comp\""},{"path":"https://rmi-pacta.github.io/pacta.multi.loanbook/articles/config_yml.html","id":"project_parameters","dir":"Articles","previous_headings":"Options","what":"project_parameters:","title":"Configuring the application","text":"full example project_parameters section might look like:","code":"project_parameters:     scenario_source: \"weo_2022\"     scenario_select: \"nze_2050\"     region_select: \"global\"     start_year: 2022     time_frame: 5     by_group: \"group_id\""},{"path":"https://rmi-pacta.github.io/pacta.multi.loanbook/articles/config_yml.html","id":"scenario_source","dir":"Articles","previous_headings":"Options > project_parameters:","what":"scenario_source","title":"Configuring the application","text":"scenario_source identifier scenario source used. must single string/character value, must refer valid, accessible, scenario source identifier contained scenario data file/s defined filename_scenario_tms filename_scenario_sda. Valid values typically look like \"weo_2023\" \"geco_2022\". example:","code":"scenario_source: \"weo_2022\""},{"path":"https://rmi-pacta.github.io/pacta.multi.loanbook/articles/config_yml.html","id":"scenario_select","dir":"Articles","previous_headings":"Options > project_parameters:","what":"scenario_select","title":"Configuring the application","text":"scenario_select identifier scenario used. must single string/character value, must refer valid, accessible, scenario identifier corresponding scenario_source contained scenario data file/s defined filename_scenario_tms filename_scenario_sda. Valid values typically look like \"nze_2050\", \"aps\" \"steps\". example:","code":"scenario_select: \"nze_2050\""},{"path":"https://rmi-pacta.github.io/pacta.multi.loanbook/articles/config_yml.html","id":"region_select","dir":"Articles","previous_headings":"Options > project_parameters:","what":"region_select","title":"Configuring the application","text":"region_select identifier region used. must single string/character value, must refer valid, accessible, region identifier contained r2dii.data::region_isos dataset must listed region available scenario_source. Valid values typically look like \"global\" \"advanced economies\". example:","code":"region_select: \"global\""},{"path":"https://rmi-pacta.github.io/pacta.multi.loanbook/articles/config_yml.html","id":"start_year","dir":"Articles","previous_headings":"Options > project_parameters:","what":"start_year","title":"Configuring the application","text":"start_year start year analysis. Normally, start year correspond year publication scenario use. must single numeric value, must refer valid, accessible, year contained scenario data file/s defined filename_scenario_tms filename_scenario_sda. Valid values typically look like 2022 2023 (note value wrapped quotes). example:","code":"start_year: 2022"},{"path":"https://rmi-pacta.github.io/pacta.multi.loanbook/articles/config_yml.html","id":"time_frame","dir":"Articles","previous_headings":"Options > project_parameters:","what":"time_frame","title":"Configuring the application","text":"time_frame number years (starting start_year) analysis covers, defining time frame. must single numeric value, must define valid, accessible, time frame covered scenario data file/s defined filename_scenario_tms filename_scenario_sda. Valid values typically look like 5 6 (note value wrapped quotes). example:","code":"time_frame: 5"},{"path":"https://rmi-pacta.github.io/pacta.multi.loanbook/articles/config_yml.html","id":"by_group","dir":"Articles","previous_headings":"Options > project_parameters:","what":"by_group","title":"Configuring the application","text":"by_group allows specifying level disaggregation used analysis. determines variable along loan books grouped thus dimension compare PACTA calculations. example, one may want calculate system-wide results without disaggregation, using NULL one may want analyse alignment along bank specific traits, \"group_id\" \"bank_type\". can NULL character vector length 1. NULL, indicated name must variable provided input loan books must complete (\"group_id\" automatically created reading loan books, user add raw loan books). provided character string \"NULL\", treated NULL. example:","code":"by_group: \"group_id\""},{"path":"https://rmi-pacta.github.io/pacta.multi.loanbook/articles/config_yml.html","id":"sector_split","dir":"Articles","previous_headings":"Options","what":"sector_split:","title":"Configuring the application","text":"full example sector_split section might look like:","code":"sector_split:     apply_sector_split: TRUE     sector_split_type: \"equal_weights\"     dir_split_company_id: \"~/Desktop/test/split\"     filename_split_company_id: \"split_company_ids.csv\"     dir_advanced_company_indicators: \"~/data/pactarawdata/asset-impact/2024-02-15_AI_RMI_2023Q4\"     filename_advanced_company_indicators: \"2024-02-14_AI_2023Q4_RMI-Company-Indicators.xlsx\"     sheet_advanced_company_indicators: \"Company Activities\""},{"path":"https://rmi-pacta.github.io/pacta.multi.loanbook/articles/config_yml.html","id":"apply_sector_split","dir":"Articles","previous_headings":"Options > sector_split:","what":"apply_sector_split","title":"Configuring the application","text":"apply_sector_split must single logical value (either TRUE FALSE). example:","code":"apply_sector_split: TRUE"},{"path":"https://rmi-pacta.github.io/pacta.multi.loanbook/articles/config_yml.html","id":"sector_split_type","dir":"Articles","previous_headings":"Options > sector_split:","what":"sector_split_type","title":"Configuring the application","text":"sector_split_type describes method apply sector split loans loan book. used apply_sector_split set TRUE. must single string/character value, must define valid sector split method can processed package. Currently, method supported \"equal_weights\", although options imaginable (example splits based market shares within sector). example:","code":"sector_split_type: \"equal_weights\""},{"path":"https://rmi-pacta.github.io/pacta.multi.loanbook/articles/config_yml.html","id":"dir_split_company_id","dir":"Articles","previous_headings":"Options > sector_split:","what":"dir_split_company_id","title":"Configuring the application","text":"dir_split_company_id path directory contains split company ID CSV. must single string/character value, must refer valid, accessible, local directory. example:","code":"dir_split_company_id: \"~/Desktop/test/split\""},{"path":"https://rmi-pacta.github.io/pacta.multi.loanbook/articles/config_yml.html","id":"filename_split_company_id","dir":"Articles","previous_headings":"Options > sector_split:","what":"filename_split_company_id","title":"Configuring the application","text":"filename_split_company_id filename CSV file contains split company ID data. must single string/character value, must refer valid, accessible, local file. example:","code":"filename_split_company_id: \"split_company_ids.csv\""},{"path":"https://rmi-pacta.github.io/pacta.multi.loanbook/articles/config_yml.html","id":"dir_advanced_company_indicators","dir":"Articles","previous_headings":"Options > sector_split:","what":"dir_advanced_company_indicators","title":"Configuring the application","text":"dir_advanced_company_indicators path directory contains Advanced Company Indicators XLSX file. must single string/character value, must refer valid, accessible, local directory. example:","code":"dir_advanced_company_indicators: \"~/data/pactarawdata/asset-impact/2024-02-15_AI_RMI_2023Q4\""},{"path":"https://rmi-pacta.github.io/pacta.multi.loanbook/articles/config_yml.html","id":"filename_advanced_company_indicators","dir":"Articles","previous_headings":"Options > sector_split:","what":"filename_advanced_company_indicators","title":"Configuring the application","text":"filename_advanced_company_indicators filename XLSX file contains Advanced Company Indicators. must single string/character value, must refer valid, accessible, local file. example:","code":"filename_advanced_company_indicators: \"2024-02-14_AI_2023Q4_RMI-Company-Indicators.xlsx\""},{"path":"https://rmi-pacta.github.io/pacta.multi.loanbook/articles/config_yml.html","id":"sheet_advanced_company_indicators","dir":"Articles","previous_headings":"Options > sector_split:","what":"sheet_advanced_company_indicators","title":"Configuring the application","text":"sheet_advanced_company_indicators name sheet contains asset based company production data file defined filename_advanced_company_indicators stored directory defined dir_advanced_company_indicators. must single string/character value, must refer valid, accessible, sheet name appropriate file. example:","code":"sheet_advanced_company_indicators: \"Company Activities\""},{"path":"https://rmi-pacta.github.io/pacta.multi.loanbook/articles/config_yml.html","id":"matching","dir":"Articles","previous_headings":"Options","what":"matching:","title":"Configuring the application","text":"full example matching section might look like:","code":"matching:     params_match_name:       by_sector: TRUE       min_score: 0.9       method: \"jw\"       p: 0.1       overwrite: NULL       join_id: NULL     own_sector_classification:       use_own_sector_classification: FALSE       dir_own_sector_classification: \"path/to/own_sector_classification_folder\"       filename_own_sector_classification: \"own_sector_classification.csv\""},{"path":"https://rmi-pacta.github.io/pacta.multi.loanbook/articles/config_yml.html","id":"params_match_name","dir":"Articles","previous_headings":"Options > matching:","what":"params_match_name:","title":"Configuring the application","text":"full example params_match_name section might look like:","code":"params_match_name:       by_sector: TRUE       min_score: 0.9       method: \"jw\"       p: 0.1       overwrite: NULL       join_id: NULL"},{"path":"https://rmi-pacta.github.io/pacta.multi.loanbook/articles/config_yml.html","id":"by_sector","dir":"Articles","previous_headings":"Options > matching: > params_match_name:","what":"by_sector","title":"Configuring the application","text":"by_sector. must single logical value (either TRUE FALSE). explanation argument can found documentation r2dii.match::match_name(). example:","code":"by_sector: TRUE"},{"path":"https://rmi-pacta.github.io/pacta.multi.loanbook/articles/config_yml.html","id":"min_score","dir":"Articles","previous_headings":"Options > matching: > params_match_name:","what":"min_score","title":"Configuring the application","text":"min_score number 0-1, set minimum score threshold. score 1 perfect match. must single numeric value. Valid values typically look like 0.7 0.9 (note value wrapped quotes). explanation argument can found documentation r2dii.match::match_name(). example:","code":"min_score: 0.9"},{"path":"https://rmi-pacta.github.io/pacta.multi.loanbook/articles/config_yml.html","id":"method","dir":"Articles","previous_headings":"Options > matching: > params_match_name:","what":"method","title":"Configuring the application","text":"method method distance calculation. must single string/character value, must refer valid method identifier, one \"osa\", \"lv\", \"dl\", \"hamming\", \"lcs\", \"qgram\", \"cosine\", \"jaccard\", \"jw\", \"soundex\". explanation argument can found documentation r2dii.match::match_name() stringdist::stringdist-metrics. example:","code":"method: \"jw\""},{"path":"https://rmi-pacta.github.io/pacta.multi.loanbook/articles/config_yml.html","id":"p","dir":"Articles","previous_headings":"Options > matching: > params_match_name:","what":"p","title":"Configuring the application","text":"p prefix factor Jaro-Winkler distance. valid range p 0 <= p <= 0.25. p=0 (default), Jaro-distance returned. Applies method=‘jw’. must single numeric value. Valid values typically look like 0.1 0.2 (note value wrapped quotes). explanation argument can found documentation r2dii.match::match_name(). example:","code":"p: 0.1"},{"path":"https://rmi-pacta.github.io/pacta.multi.loanbook/articles/config_yml.html","id":"overwrite","dir":"Articles","previous_headings":"Options > matching: > params_match_name:","what":"overwrite","title":"Configuring the application","text":"overwrite. explanation argument can found documentation r2dii.match::match_name(). example:","code":"overwrite: NULL"},{"path":"https://rmi-pacta.github.io/pacta.multi.loanbook/articles/config_yml.html","id":"join_id","dir":"Articles","previous_headings":"Options > matching: > params_match_name:","what":"join_id","title":"Configuring the application","text":"join_id optional parameter allows defining variable match loans companies abcd. intended use case join based unambiguous identifiers, lei, data available. can NULL use standard name matching common identifiers given. Must join specification internally passed dplyr::inner_join. unnamed character/string vector, values assumed refer identically named join columns. named character vector, names used join columns loanbook values used join columns abcd. explanation argument can found documentation r2dii.match::match_name(). example:","code":"join_id: c(lei_direct_loantaker = \"lei\")"},{"path":"https://rmi-pacta.github.io/pacta.multi.loanbook/articles/config_yml.html","id":"own_sector_classification","dir":"Articles","previous_headings":"Options > matching:","what":"own_sector_classification:","title":"Configuring the application","text":"full example own_sector_classification section might look like:","code":"own_sector_classification:       use_own_sector_classification: FALSE       dir_own_sector_classification: \"path/to/own_sector_classification_folder\"       filename_own_sector_classification: \"own_sector_classification.csv\""},{"path":"https://rmi-pacta.github.io/pacta.multi.loanbook/articles/config_yml.html","id":"use_own_sector_classification","dir":"Articles","previous_headings":"Options > matching: > own_sector_classification:","what":"use_own_sector_classification","title":"Configuring the application","text":"use_own_sector_classification determines matching use internally provided sector classification system use one provided user instead. Internal sector classification systems given r2dii.data::sector_classifications - see also additional documentation r2dii.data. function automatically attempt use one sector classification systems, based inputs raw loan book files. externally prepared sector classification system used, example loans classified using system provided r2dii.data box, data must prepared following structure found r2dii.data::sector_classifications. must single logical value (either TRUE FALSE). example:","code":"use_own_sector_classification: FALSE"},{"path":"https://rmi-pacta.github.io/pacta.multi.loanbook/articles/config_yml.html","id":"dir_own_sector_classification","dir":"Articles","previous_headings":"Options > matching: > own_sector_classification:","what":"dir_own_sector_classification","title":"Configuring the application","text":"dir_own_sector_classification path directory contains manual sector classification CSV. must single string/character value, must refer valid, accessible, local directory. example:","code":"dir_own_sector_classification: \"path/to/own_sector_classification_folder\""},{"path":"https://rmi-pacta.github.io/pacta.multi.loanbook/articles/config_yml.html","id":"filename_own_sector_classification","dir":"Articles","previous_headings":"Options > matching: > own_sector_classification:","what":"filename_own_sector_classification","title":"Configuring the application","text":"filename_own_sector_classification filename CSV contains manual sector classification data. must single string/character value, must refer valid, accessible, local file. example:","code":"filename_own_sector_classification: \"own_sector_classification.csv\""},{"path":"https://rmi-pacta.github.io/pacta.multi.loanbook/articles/config_yml.html","id":"match_prioritize","dir":"Articles","previous_headings":"Options","what":"match_prioritize:","title":"Configuring the application","text":"full example match_prioritize section might look like:","code":"match_prioritize:     priority: NULL"},{"path":"https://rmi-pacta.github.io/pacta.multi.loanbook/articles/config_yml.html","id":"priority","dir":"Articles","previous_headings":"Options > match_prioritize:","what":"priority","title":"Configuring the application","text":"priority indicates level matching prioritized loan can matched multiple levels. must single string/character value NULL, must refer valid, accessible, local file. explanation argument can found documentation r2dii.match::priortize(). example:","code":"priority: NULL"},{"path":"https://rmi-pacta.github.io/pacta.multi.loanbook/articles/config_yml.html","id":"prepare_abcd","dir":"Articles","previous_headings":"Options","what":"prepare_abcd:","title":"Configuring the application","text":"full example prepare_abcd section might look like:","code":"prepare_abcd:     remove_inactive_companies: TRUE"},{"path":"https://rmi-pacta.github.io/pacta.multi.loanbook/articles/config_yml.html","id":"remove_inactive_companies","dir":"Articles","previous_headings":"Options > prepare_abcd:","what":"remove_inactive_companies","title":"Configuring the application","text":"remove_inactive_companies determines inactive companies removed abcd dataset . “Companies” refers company-sector combinations “inactive” characterizes company-sector combinations inactive end time frame analysed. focusing forward looking analysis exposures end year, inactive companies may produce meaningful results. must single logical value (either TRUE FALSE). example:","code":"remove_inactive_companies: TRUE"},{"path":"https://rmi-pacta.github.io/pacta.multi.loanbook/articles/config_yml.html","id":"match_success_rate","dir":"Articles","previous_headings":"Options","what":"match_success_rate:","title":"Configuring the application","text":"full example match_success_rate section might look like:","code":"match_success_rate:     plot_width: 12     plot_height: 8     plot_units: \"in\"     plot_resolution: 300"},{"path":"https://rmi-pacta.github.io/pacta.multi.loanbook/articles/config_yml.html","id":"plot_width","dir":"Articles","previous_headings":"Options > match_success_rate:","what":"plot_width","title":"Configuring the application","text":"plot_width desired width XXX output plot units defined plot_units. must single numeric value. Valid values typically look like 10 12 (note value wrapped quotes). example:","code":"plot_width: 12"},{"path":"https://rmi-pacta.github.io/pacta.multi.loanbook/articles/config_yml.html","id":"plot_height","dir":"Articles","previous_headings":"Options > match_success_rate:","what":"plot_height","title":"Configuring the application","text":"plot_height desired height XXX output plot units defined plot_units. must single numeric value. Valid values typically look like 6 8 (note value wrapped quotes). example:","code":"plot_height: 8"},{"path":"https://rmi-pacta.github.io/pacta.multi.loanbook/articles/config_yml.html","id":"plot_units","dir":"Articles","previous_headings":"Options > match_success_rate:","what":"plot_units","title":"Configuring the application","text":"plot_units desired units express dimensions XXX output plot plot_width plot_height. must single string/character value, must refer valid unit identifier. Valid values typically look like \"\" \"px\". example:","code":"plot_units: \"in\""},{"path":"https://rmi-pacta.github.io/pacta.multi.loanbook/articles/config_yml.html","id":"plot_resolution","dir":"Articles","previous_headings":"Options > match_success_rate:","what":"plot_resolution","title":"Configuring the application","text":"plot_resolution desired resolution XXX output plot dpi. must single numeric value. Valid values typically look like 72 300 (note value wrapped quotes). example:","code":"plot_resolution: 300"},{"path":"https://rmi-pacta.github.io/pacta.multi.loanbook/articles/cookbook.html","id":"config","dir":"Articles","previous_headings":"","what":"Config","title":"Running the analysis","text":"functions take config argument, can either path config.yml file (see vignette(\"config_yml\")) config list object containing previously imported settings config.yml file. settings/options configured config.yml file.","code":""},{"path":"https://rmi-pacta.github.io/pacta.multi.loanbook/articles/cookbook.html","id":"setup","dir":"Articles","previous_headings":"","what":"Setup","title":"Running the analysis","text":"’ll likely want load package save path config.yml file variable first:","code":"library(pacta.multi.loanbook) config_path <- \"config.yml\""},{"path":"https://rmi-pacta.github.io/pacta.multi.loanbook/articles/cookbook.html","id":"data-preparation","dir":"Articles","previous_headings":"","what":"Data preparation","title":"Running the analysis","text":"ABCD data need prepared first prepare_abcd() function. want use custom sector split, also need prepared prepare_sector_split() function:","code":"prepare_abcd(config_path) prepare_sector_split(config_path)"},{"path":"https://rmi-pacta.github.io/pacta.multi.loanbook/articles/cookbook.html","id":"matching-process","dir":"Articles","previous_headings":"","what":"Matching process","title":"Running the analysis","text":"run matching process, use run_matching() function. matching process complete, need manual matching.","code":"run_matching(config_path)"},{"path":"https://rmi-pacta.github.io/pacta.multi.loanbook/articles/cookbook.html","id":"prioritization","dir":"Articles","previous_headings":"","what":"Prioritization","title":"Running the analysis","text":"prioritize data loanbooks, use run_match_prioritize() function.","code":"run_match_prioritize(config_path)"},{"path":"https://rmi-pacta.github.io/pacta.multi.loanbook/articles/cookbook.html","id":"match-success-and-coverage-stats","dir":"Articles","previous_headings":"","what":"Match success and coverage stats","title":"Running the analysis","text":"matching prioritization process complete, may want review match success rate loanbook coverage stats. can done run_calculate_match_success_rate() run_calculate_loanbook_coverage() functions. case satisfied match success rate, may go back manual matching process try match additional loans. can rerun run_calculate_match_success_rate() run_calculate_loanbook_coverage() check additional matching improved coverage.","code":"run_calculate_match_success_rate(config_path) run_calculate_loanbook_coverage(config_path)"},{"path":"https://rmi-pacta.github.io/pacta.multi.loanbook/articles/cookbook.html","id":"pacta-analysis","dir":"Articles","previous_headings":"","what":"PACTA analysis","title":"Running the analysis","text":"run PACTA previously matched prioritized loanbooks, use run_pacta() function.","code":"run_pacta(config_path)"},{"path":"https://rmi-pacta.github.io/pacta.multi.loanbook/articles/cookbook.html","id":"pacta-metrics-and-plots","dir":"Articles","previous_headings":"","what":"PACTA metrics and plots","title":"Running the analysis","text":"PACTA analysis run loanbooks, may want calculate aggregate alignment metrics export plots, can done run_aggregate_alignment_metric() plot_aggregate_loanbooks() functions.","code":"run_aggregate_alignment_metric(config_path) plot_aggregate_loanbooks(config_path)"},{"path":"https://rmi-pacta.github.io/pacta.multi.loanbook/articles/data_dictionary.html","id":"intro","dir":"Articles","previous_headings":"","what":"Intro","title":"Understanding the data","text":"many cases, users package want use outputs analyses processing, additional analyses making visualizations based design guide organisation. facilitate additional use cases, also simplify interpretation outputs generated package, data dictionary documents type output table detail, focusing data types definitions. article structured based output tables generated pacta.multi.loanbook follows standard flow user experience much possible, can read sequence analysis run.","code":""},{"path":"https://rmi-pacta.github.io/pacta.multi.loanbook/articles/data_dictionary.html","id":"tables","dir":"Articles","previous_headings":"","what":"Tables","title":"Understanding the data","text":"main steps generate output tables : Diagnostics coverage Standard PACTA analysis Aggregated PACTA metrics","code":""},{"path":"https://rmi-pacta.github.io/pacta.multi.loanbook/articles/data_dictionary.html","id":"diagnostics","dir":"Articles","previous_headings":"Tables","what":"Diagnostics","title":"Understanding the data","text":"diagnostics section split determining match success rate loan books analysed inspecting real economy activity related financing made banks matched loan books. former influenced quality input loan book data completeness reference production data loan books matched. latter, depends solid match success rate, mainly driven financing decisions portfolio allocation made banks.","code":""},{"path":"https://rmi-pacta.github.io/pacta.multi.loanbook/articles/data_dictionary.html","id":"match-success-rate","dir":"Articles","previous_headings":"Tables > Diagnostics","what":"Match success rate","title":"Understanding the data","text":"","code":"dplyr::filter(data_dictionary, .data[[\"dataset\"]] == \"lbk_match_success_rate\")"},{"path":"https://rmi-pacta.github.io/pacta.multi.loanbook/articles/data_dictionary.html","id":"loan-book-coverage","dir":"Articles","previous_headings":"Tables > Diagnostics","what":"Loan book coverage","title":"Understanding the data","text":"","code":"dplyr::filter(data_dictionary, .data[[\"dataset\"]] == \"summary_statistics_loanbook_coverage\")"},{"path":"https://rmi-pacta.github.io/pacta.multi.loanbook/articles/data_dictionary.html","id":"standard-pacta-analysis","dir":"Articles","previous_headings":"Tables","what":"Standard PACTA analysis","title":"Understanding the data","text":"standard PACTA analysis run across input banking books, produces output metrics known r2dii.* packages. Results given portfolio level grouped banking book. Beyond standard output format, tables provided can used input visualizations, standard sectors technologies.","code":""},{"path":"https://rmi-pacta.github.io/pacta.multi.loanbook/articles/data_dictionary.html","id":"target-market-share-results-all-groups","dir":"Articles","previous_headings":"Tables > Standard PACTA analysis","what":"Target Market Share results (all groups)","title":"Understanding the data","text":"Target market share results portfolio level included banking book","code":"dplyr::filter(data_dictionary, .data[[\"dataset\"]] == \"tms_results\")"},{"path":"https://rmi-pacta.github.io/pacta.multi.loanbook/articles/data_dictionary.html","id":"sectoral-decarbonization-approach-results-all-groups","dir":"Articles","previous_headings":"Tables > Standard PACTA analysis","what":"Sectoral Decarbonization Approach results (all groups)","title":"Understanding the data","text":"SDA results portfolio level included banking book","code":"dplyr::filter(data_dictionary, .data[[\"dataset\"]] == \"sda_results\")"},{"path":"https://rmi-pacta.github.io/pacta.multi.loanbook/articles/data_dictionary.html","id":"data-tech-mix","dir":"Articles","previous_headings":"Tables > Standard PACTA analysis","what":"Data tech mix","title":"Understanding the data","text":"Results given portfolio sector, tailored used tech mix chart","code":"dplyr::filter(data_dictionary, .data[[\"dataset\"]] == \"data_tech_mix\")"},{"path":"https://rmi-pacta.github.io/pacta.multi.loanbook/articles/data_dictionary.html","id":"data-trajectory","dir":"Articles","previous_headings":"Tables > Standard PACTA analysis","what":"Data trajectory","title":"Understanding the data","text":"Results given portfolio, sector technology, tailored used volume trajectory chart","code":"dplyr::filter(data_dictionary, .data[[\"dataset\"]] == \"data_trajectory\")"},{"path":"https://rmi-pacta.github.io/pacta.multi.loanbook/articles/data_dictionary.html","id":"data-emission-intensity","dir":"Articles","previous_headings":"Tables > Standard PACTA analysis","what":"Data emission intensity","title":"Understanding the data","text":"Results given portfolio sector, tailored used emission intensity chart","code":"dplyr::filter(data_dictionary, .data[[\"dataset\"]] == \"data_emission_intensity\")"},{"path":"https://rmi-pacta.github.io/pacta.multi.loanbook/articles/data_dictionary.html","id":"companies-included","dir":"Articles","previous_headings":"Tables > Standard PACTA analysis","what":"Companies included","title":"Understanding the data","text":"Lists companies including exposures, analysed given loan book therefore included data visualized.","code":"dplyr::filter(data_dictionary, .data[[\"dataset\"]] == \"companies_included\")"},{"path":"https://rmi-pacta.github.io/pacta.multi.loanbook/articles/data_dictionary.html","id":"aggregated-pacta-metrics","dir":"Articles","previous_headings":"Tables","what":"Aggregated PACTA metrics","title":"Understanding the data","text":"aggregated PACTA metrics also run across input banking books. calculations produce net aggregate alignment metric, defined vignettes “Calculation company alignment metric” “Calculation exposure-weighted aggregated alignment metric” allows producing corresponding plots. Results grouped level defined by_group parameter.","code":""},{"path":"https://rmi-pacta.github.io/pacta.multi.loanbook/articles/data_dictionary.html","id":"company-technology-deviation","dir":"Articles","previous_headings":"Tables > Aggregated PACTA metrics","what":"Company technology deviation","title":"Understanding the data","text":"company analyzed banking books, shows deviation technology build-final year analysis corresponding allocated scenario value. intermediate result processed calculation net aggregate alignment metric. available sectors, technology level calculations using target market share, namely automotive, coal, oil gas, power.","code":"dplyr::filter(data_dictionary, .data[[\"dataset\"]] == \"company_technology_deviation_tms\")"},{"path":"https://rmi-pacta.github.io/pacta.multi.loanbook/articles/data_dictionary.html","id":"company-net-alignment-metric-for-tms-sectors","dir":"Articles","previous_headings":"Tables > Aggregated PACTA metrics","what":"Company net alignment metric for TMS sectors","title":"Understanding the data","text":"company analyzed banking books, shows net aggregate alignment metric sectors, technology level calculations using target market share, namely automotive, coal, oil gas, power. See vignette(\"company_alignment_metric\") methodological documentation.","code":"dplyr::filter(data_dictionary, .data[[\"dataset\"]] == \"company_alignment_net_tms\")"},{"path":"https://rmi-pacta.github.io/pacta.multi.loanbook/articles/data_dictionary.html","id":"disaggregated-company-buildoutphaseout-alignment-metric-for-tms-sectors","dir":"Articles","previous_headings":"Tables > Aggregated PACTA metrics","what":"Disaggregated company buildout/phaseout alignment metric for TMS sectors","title":"Understanding the data","text":"company analyzed banking books, shows aggregate alignment metric - disaggregated buildout phaseout components - sectors, technology level calculations using target market share, namely automotive, coal, oil gas, power. See vignette(\"company_alignment_metric\") methodological documentation.","code":"dplyr::filter(data_dictionary, .data[[\"dataset\"]] == \"company_alignment_bo_po_tms\")"},{"path":"https://rmi-pacta.github.io/pacta.multi.loanbook/articles/data_dictionary.html","id":"company-net-alignment-metric-for-sda-sectors","dir":"Articles","previous_headings":"Tables > Aggregated PACTA metrics","what":"Company net alignment metric for SDA sectors","title":"Understanding the data","text":"company analyzed banking books, shows net aggregate alignment metric sectors, sector level calculations using sectoral decarbonization approach (SDA), namely aviation, cement, steel. See vignette(\"company_alignment_metric\") methodological documentation.","code":"dplyr::filter(data_dictionary, .data[[\"dataset\"]] == \"company_alignment_net_sda\")"},{"path":"https://rmi-pacta.github.io/pacta.multi.loanbook/articles/data_dictionary.html","id":"company-net-aggregate-alignment-metric-with-financial-exposures","dir":"Articles","previous_headings":"Tables > Aggregated PACTA metrics","what":"Company net aggregate alignment metric with financial exposures","title":"Understanding the data","text":"company analyzed banking books, shows net aggregate alignment metric available sectors. table includes financial exposure analyzed parts banking books, split defined by_group.","code":"dplyr::filter(data_dictionary, .data[[\"dataset\"]] == \"company_exposure_net_aggregate_alignment\")"},{"path":"https://rmi-pacta.github.io/pacta.multi.loanbook/articles/data_dictionary.html","id":"disaggregated-company-buildoutphaseout-alignment-metric-with-financial-exposures","dir":"Articles","previous_headings":"Tables > Aggregated PACTA metrics","what":"Disaggregated company buildout/phaseout alignment metric with financial exposures","title":"Understanding the data","text":"company analyzed banking books, shows net aggregate alignment metric - disaggregated buildout phaseout components - sectors use technology level TMS calculations, namely automotive, coal, oil gas, power. table includes financial exposure analyzed parts banking books, split defined by_group. Note financial exposure disaggregated, alignment metric .","code":"dplyr::filter(data_dictionary, .data[[\"dataset\"]] == \"company_exposure_bo_po_aggregate_alignment\")"},{"path":"https://rmi-pacta.github.io/pacta.multi.loanbook/articles/data_dictionary.html","id":"loan-book-net-aggregate-alignment-metric-with-financial-exposures","dir":"Articles","previous_headings":"Tables > Aggregated PACTA metrics","what":"Loan book net aggregate alignment metric with financial exposures","title":"Understanding the data","text":"loan book level group (split defined by_group), shows net aggregate alignment metric available sectors. table includes financial exposure analyzed parts banking books. Company level results aggregated loan book level, using relative financial exposure weights.","code":"dplyr::filter(data_dictionary, .data[[\"dataset\"]] == \"loanbook_exposure_net_aggregate_alignment\")"},{"path":"https://rmi-pacta.github.io/pacta.multi.loanbook/articles/data_dictionary.html","id":"disaggregated-loan-book-buildoutphaseout-alignment-metric-with-financial-exposures","dir":"Articles","previous_headings":"Tables > Aggregated PACTA metrics","what":"Disaggregated loan book buildout/phaseout alignment metric with financial exposures","title":"Understanding the data","text":"loan book level group (split defined by_group), shows net aggregate alignment metric - disaggregated buildout phaseout components - sectors using technology level TMS calculations, namely automotive, coal, oil gas, power. Company level results aggregated loan book level, using relative financial exposure weights.","code":"dplyr::filter(data_dictionary, .data[[\"dataset\"]] == \"loanbook_exposure_bo_po_aggregate_alignment\")"},{"path":"https://rmi-pacta.github.io/pacta.multi.loanbook/articles/data_dictionary.html","id":"input-data-for-sankey-plot","dir":"Articles","previous_headings":"Tables > Aggregated PACTA metrics","what":"Input data for Sankey plot","title":"Understanding the data","text":"Data set meant used input plot_sankey().","code":"dplyr::filter(data_dictionary, .data[[\"dataset\"]] == \"data_sankey\")"},{"path":"https://rmi-pacta.github.io/pacta.multi.loanbook/articles/data_dictionary.html","id":"input-data-for-alignment-by-exposure-scatter-plot","dir":"Articles","previous_headings":"Tables > Aggregated PACTA metrics","what":"Input data for alignment-by-exposure scatter plot","title":"Understanding the data","text":"Data set meant used input plot_scatter_alignment_exposure().","code":"dplyr::filter(data_dictionary, .data[[\"dataset\"]] == \"data_scatter_alignment_exposure\")"},{"path":"https://rmi-pacta.github.io/pacta.multi.loanbook/articles/data_dictionary.html","id":"input-data-for-buildoutphaseout-scatter-plot","dir":"Articles","previous_headings":"Tables > Aggregated PACTA metrics","what":"Input data for buildout/phaseout scatter plot","title":"Understanding the data","text":"Data set meant used input plot_scatter().","code":"dplyr::filter(data_dictionary, .data[[\"dataset\"]] == \"data_scatter_sector\")"},{"path":"https://rmi-pacta.github.io/pacta.multi.loanbook/articles/data_dictionary.html","id":"input-data-for-animated-buildoutphaseout-scatter-plot","dir":"Articles","previous_headings":"Tables > Aggregated PACTA metrics","what":"Input data for animated buildout/phaseout scatter plot","title":"Understanding the data","text":"Data set meant used input plot_scatter_animated().","code":"dplyr::filter(data_dictionary, .data[[\"dataset\"]] == \"data_scatter_sector_animated\")"},{"path":[]},{"path":"https://rmi-pacta.github.io/pacta.multi.loanbook/articles/loanbook_aggregated_alignment_metric.html","id":"the-use-case-for-exposure-weighted-aggregated-alignment-metrics","dir":"Articles","previous_headings":"1. Background","what":"1.1 The use case for exposure-weighted aggregated alignment metrics","title":"Calculation of exposure-weighted aggregated alignment metric","text":"company alignment metric described previous chapter first building block needed help make sense alignment patterns large analyses. vignette describes company/sector level metrics can aggregated loan book level facilitate identification systemic patterns. aggregations described can made defined level loan book. precisely, loan book can defined anything sub selection loans one bank’s loan book aggregated loan book entire PACTA sector across banks. Common levels analysis : aggregations bank level, facilitate bank--bank comparison aggregations bank group level, understand patterns common different types financial institutions. level analysis can investigated , using approach.","code":""},{"path":"https://rmi-pacta.github.io/pacta.multi.loanbook/articles/loanbook_aggregated_alignment_metric.html","id":"exposure-weighted-aggregated-alignment-metric","dir":"Articles","previous_headings":"","what":"2. Exposure-weighted aggregated alignment metric","title":"Calculation of exposure-weighted aggregated alignment metric","text":"obtain loan book level aggregation company alignment metric, portfolio weight approach applied. exposure weights company loan book derived dividing loan value (drawn amount debt outstanding) counterparty total loan value matched loan book. assumes drawn loan amount goes fully towards activity given sector.1","code":""},{"path":"https://rmi-pacta.github.io/pacta.multi.loanbook/articles/loanbook_aggregated_alignment_metric.html","id":"defining-exposure-weights-at-the-companysector-level","dir":"Articles","previous_headings":"2. Exposure-weighted aggregated alignment metric","what":"2.1 Defining exposure weights at the company/sector level","title":"Calculation of exposure-weighted aggregated alignment metric","text":"exposure-weighted net (buildout/phaseout) alignment given loan book calculated follows: Loan exposure ll (debt outstanding) bank (loan book) nn company cc sector bb, time t=0t = 0: ln,b,c,t=0l_{n,b,c,t = 0}","code":""},{"path":"https://rmi-pacta.github.io/pacta.multi.loanbook/articles/loanbook_aggregated_alignment_metric.html","id":"aggregating-the-companysector-level-metric-to-the-loan-book-by-sector-level","dir":"Articles","previous_headings":"2. Exposure-weighted aggregated alignment metric","what":"2.2 Aggregating the company/sector level metric to the loan book by sector level","title":"Calculation of exposure-weighted aggregated alignment metric","text":"derive exposure-weighted company net alignment metric YY sector: Yn,b,c,t=ln,b,c,t=0∑b,cln,b,c,t=0×yb,c,tY_{n,b,c,t} = \\dfrac{l_{n,b,c,t=0}}{\\sum_{b,c} l_{n,b,c,t=0}} \\times y_{b,c,t} Finally, exposure-weighted net alignment metric YY loan book sector level follows : Yn,b,t=∑cYn,b,c,tY_{n,b,t} = \\sum_{c} Y_{n,b,c,t} applicable, obtain exposure-weighted buildout/phaseout-alignment metric company : Yn,b,c,d,t=ln,b,c,t=0∑b,cln,b,c,t=0×yb,c,d,tY_{n,b,c,d,t} = \\dfrac{l_{n,b,c,t=0}}{\\sum_{b,c} l_{n,b,c,t=0}} \\times y_{b,c,d,t} correspondingly, exposure-weighted buildout/phaseout-alignment metric can calculated loan book level : Yn,b,d,t=∑cYn,b,c,d,tY_{n,b,d,t} = \\sum_{c} Y_{n,b,c,d,t}","code":""},{"path":"https://rmi-pacta.github.io/pacta.multi.loanbook/articles/loanbook_aggregated_alignment_metric.html","id":"interpretation","dir":"Articles","previous_headings":"2. Exposure-weighted aggregated alignment metric > 2.2 Aggregating the company/sector level metric to the loan book by sector level","what":"Interpretation:","title":"Calculation of exposure-weighted aggregated alignment metric","text":"exposure-weighted net aggregate alignment metric Yn,b,tY_{n,b,t} tells us activities companies loan book exposed t=0t = 0 , aggregate, aligned scenario-based values companies t=5t = 5. read high-level summary alignment given loan book meant prompt analysis granular levels, especially entry standard PACTA analysis metrics laid . Note value driven largely exposure relevant companies loan book. Hence, positive value immediately imply unweighted sum counterparties activities aligned given scenario. Instead, exposure-weighted result might driven one particularly well-performing companies, loan book significant exposures. Note also disaggregation buildout phaseout levels exposure-weighted aggregate alignment metric necessary sectors buildout phaseout technologies, understand drivers net value. Yn,b,d,tY_{n,b,d,t} provides disaggregation. unidirectional sectors, disaggregation equal net value emissions intensity based sectors use SDA approach, disaggregation can computed.","code":""},{"path":"https://rmi-pacta.github.io/pacta.multi.loanbook/authors.html","id":null,"dir":"","previous_headings":"","what":"Authors","title":"Authors and Citation","text":"Jacob Kastl. Author, maintainer, contractor. CJ Yetman. Author, contractor. Monika Furdyna. Author, contractor. . Copyright holder, funder.","code":""},{"path":"https://rmi-pacta.github.io/pacta.multi.loanbook/authors.html","id":"citation","dir":"","previous_headings":"","what":"Citation","title":"Authors and Citation","text":"Kastl J, Yetman C, Furdyna M (2024). pacta.multi.loanbook: Run PACTA multiple loan books easily. R package version 0.0.0.9000, https://github.com/RMI-PACTA/pacta.multi.loanbook/, https://rmi-pacta.github.io/pacta.multi.loanbook/.","code":"@Manual{,   title = {pacta.multi.loanbook: Run PACTA on multiple loan books easily},   author = {Jacob Kastl and CJ Yetman and Monika Furdyna},   year = {2024},   note = {R package version 0.0.0.9000,     https://github.com/RMI-PACTA/pacta.multi.loanbook/},   url = {https://rmi-pacta.github.io/pacta.multi.loanbook/}, }"},{"path":"https://rmi-pacta.github.io/pacta.multi.loanbook/index.html","id":"pactamultiloanbook","dir":"","previous_headings":"","what":"Run PACTA on multiple loan books easily","title":"Run PACTA on multiple loan books easily","text":"goal pacta.multi.loanbook provide easy--use interface anyone wants run PACTA multiple loan books. allows tailoring analysis individual needs project simple straight-forward manner.","code":""},{"path":[]},{"path":"https://rmi-pacta.github.io/pacta.multi.loanbook/index.html","id":"r-package-dependencies","dir":"","previous_headings":"Run in RStudio","what":"R package dependencies","title":"Run PACTA on multiple loan books easily","text":"Running pacta.multi.loanbook number R package dependencies listed DESCRIPTION file. can installed manually using something like pak::local_install_deps().","code":""},{"path":"https://rmi-pacta.github.io/pacta.multi.loanbook/index.html","id":"setting-config-options","dir":"","previous_headings":"Run in RStudio","what":"Setting config options","title":"Run PACTA on multiple loan books easily","text":"need set options config.yml file placed root level repository. can use example.config.yml template set options config.yml. config file used set project parameters, paths file names, decide modules run individual settings. allows tailoring calculations individual research questions ensuring project-wide parameters used consistently across modules.","code":""},{"path":"https://rmi-pacta.github.io/pacta.multi.loanbook/index.html","id":"detailed-documentation-of-parameters-in-configyml","dir":"","previous_headings":"Run in RStudio","what":"Detailed documentation of parameters in config.yml","title":"Run PACTA on multiple loan books easily","text":"added…","code":""},{"path":"https://rmi-pacta.github.io/pacta.multi.loanbook/index.html","id":"running-the-multi-loan-book-analysis","dir":"","previous_headings":"Run in RStudio","what":"Running the multi loan book analysis","title":"Run PACTA on multiple loan books easily","text":"analysis run two steps. first step run process matching raw input loan books asset/based company data (ABCD), using run_matching.R script. Initial matching results saved matched/ directory specified config.yml. files need validated manually. manual validation matched loan books completed, checked files processed, using script run_pacta_multi_loanbook.R, calculates standard PACTA results loan books additional related metrics analytics. scripts can either run line--line, calling source(\"run_matching.R\") source(\"run_pacta_multi_loanbook.R\").","code":""},{"path":"https://rmi-pacta.github.io/pacta.multi.loanbook/reference/abcd_test_data.html","id":null,"dir":"Reference","previous_headings":"","what":"ABCD test data — abcd_test_data","title":"ABCD test data — abcd_test_data","text":"ABCD test data","code":""},{"path":"https://rmi-pacta.github.io/pacta.multi.loanbook/reference/abcd_test_data.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"ABCD test data — abcd_test_data","text":"","code":"abcd_test_data"},{"path":"https://rmi-pacta.github.io/pacta.multi.loanbook/reference/abcd_test_data.html","id":"format","dir":"Reference","previous_headings":"","what":"Format","title":"ABCD test data — abcd_test_data","text":"object class tbl_df (inherits tbl, data.frame) 582 rows 13 columns.","code":""},{"path":"https://rmi-pacta.github.io/pacta.multi.loanbook/reference/data_dictionary.html","id":null,"dir":"Reference","previous_headings":"","what":"Data dictionary — data_dictionary","title":"Data dictionary — data_dictionary","text":"overview output data sets generated package, data types, definitions variables.","code":""},{"path":"https://rmi-pacta.github.io/pacta.multi.loanbook/reference/data_dictionary.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Data dictionary — data_dictionary","text":"","code":"data_dictionary"},{"path":[]},{"path":"https://rmi-pacta.github.io/pacta.multi.loanbook/reference/data_dictionary.html","id":"data-dictionary","dir":"Reference","previous_headings":"","what":"data_dictionary","title":"Data dictionary — data_dictionary","text":"dataset Name dataset column Name column typeof Data type column definition Description column stands value values allowed column","code":""},{"path":"https://rmi-pacta.github.io/pacta.multi.loanbook/reference/data_dictionary.html","id":"source","dir":"Reference","previous_headings":"","what":"Source","title":"Data dictionary — data_dictionary","text":"internal","code":""},{"path":"https://rmi-pacta.github.io/pacta.multi.loanbook/reference/data_dictionary.html","id":"details","dir":"Reference","previous_headings":"","what":"Details","title":"Data dictionary — data_dictionary","text":"details see help vignette: vignette(\"data_dictionary\", package = \"pacta.multi.loanbook\")","code":""},{"path":"https://rmi-pacta.github.io/pacta.multi.loanbook/reference/loanbook_test_data.html","id":null,"dir":"Reference","previous_headings":"","what":"Loan book test data — loanbook_test_data","title":"Loan book test data — loanbook_test_data","text":"Loan book test data","code":""},{"path":"https://rmi-pacta.github.io/pacta.multi.loanbook/reference/loanbook_test_data.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Loan book test data — loanbook_test_data","text":"","code":"loanbook_test_data"},{"path":"https://rmi-pacta.github.io/pacta.multi.loanbook/reference/loanbook_test_data.html","id":"format","dir":"Reference","previous_headings":"","what":"Format","title":"Loan book test data — loanbook_test_data","text":"object class tbl_df (inherits tbl, data.frame) 20 rows 19 columns.","code":""},{"path":"https://rmi-pacta.github.io/pacta.multi.loanbook/reference/plot_aggregate_loanbooks.html","id":null,"dir":"Reference","previous_headings":"","what":"plot_aggregate_loanbooks — plot_aggregate_loanbooks","title":"plot_aggregate_loanbooks — plot_aggregate_loanbooks","text":"plot_aggregate_loanbooks","code":""},{"path":"https://rmi-pacta.github.io/pacta.multi.loanbook/reference/plot_aggregate_loanbooks.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"plot_aggregate_loanbooks — plot_aggregate_loanbooks","text":"","code":"plot_aggregate_loanbooks(config)"},{"path":"https://rmi-pacta.github.io/pacta.multi.loanbook/reference/plot_aggregate_loanbooks.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"plot_aggregate_loanbooks — plot_aggregate_loanbooks","text":"config either single string defining path config YML file list object contains appropriate config params","code":""},{"path":"https://rmi-pacta.github.io/pacta.multi.loanbook/reference/plot_aggregate_loanbooks.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"plot_aggregate_loanbooks — plot_aggregate_loanbooks","text":"NULL (called side effects)","code":""},{"path":"https://rmi-pacta.github.io/pacta.multi.loanbook/reference/plot_sankey.html","id":null,"dir":"Reference","previous_headings":"","what":"Make a sankey plot — plot_sankey","title":"Make a sankey plot — plot_sankey","text":"Make sankey plot","code":""},{"path":"https://rmi-pacta.github.io/pacta.multi.loanbook/reference/plot_sankey.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Make a sankey plot — plot_sankey","text":"","code":"plot_sankey(   data,   group_var,   capitalise_node_labels = TRUE,   save_png_to = NULL,   png_name = \"sankey.png\",   nodes_order_from_data = FALSE )  prep_sankey(   data_alignment,   region,   year,   group_var,   middle_node,   middle_node2 = NULL )"},{"path":"https://rmi-pacta.github.io/pacta.multi.loanbook/reference/plot_sankey.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Make a sankey plot — plot_sankey","text":"data data.frame. format output prep_sankey() contain columns: \"middle_node\", optionally \"middle_node2\", \"is_aligned\", \"loan_size_outstanding\", column implied group_var. group_var Character. Vector length 1. Variable group . capitalise_node_labels Logical. Flag indicating node labels converted better looking capitalised form. save_png_to Character. Path output png format saved png_name Character. File name output. nodes_order_from_data Logical. Flag indicating nodes order determined algorithm (case big datasets often results better looking plot) ordered based data. data_alignment data.frame. Holds aggregated alignment metrics per company tms sectors. Must contain columns: \"name_abcd\", \"sector\" column implied group_var. region Character. Region filter data_alignment data frame . year Integer. Year data_alignment filtered. middle_node Character. Column specifying middle nodes plotted sankey plot. Must present data_alignment. middle_node2 Character. Column specifying middle nodes plotted sankey plot. Must present data_alignment.","code":""},{"path":"https://rmi-pacta.github.io/pacta.multi.loanbook/reference/plot_sankey.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Make a sankey plot — plot_sankey","text":"data.frame","code":""},{"path":"https://rmi-pacta.github.io/pacta.multi.loanbook/reference/plot_sankey.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Make a sankey plot — plot_sankey","text":"","code":"# TODO"},{"path":"https://rmi-pacta.github.io/pacta.multi.loanbook/reference/plot_scatter.html","id":null,"dir":"Reference","previous_headings":"","what":"Plot alignment scatterplot — plot_scatter","title":"Plot alignment scatterplot — plot_scatter","text":"Plot alignment scatterplot","code":""},{"path":"https://rmi-pacta.github.io/pacta.multi.loanbook/reference/plot_scatter.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Plot alignment scatterplot — plot_scatter","text":"","code":"plot_scatter(   data,   sector = NULL,   scenario_source = NULL,   scenario = NULL,   year = NULL,   region = NULL,   title = NULL,   subtitle = NULL,   alignment_limit = NULL,   data_level = c(\"company\", \"group_var\"),   cap_outliers = NULL,   floor_outliers = NULL )  prep_scatter(   data_bopo,   data_net,   data_level = c(\"group_var\", \"company\"),   year,   sector,   region,   group_var,   groups_to_plot = NULL )"},{"path":"https://rmi-pacta.github.io/pacta.multi.loanbook/reference/plot_scatter.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Plot alignment scatterplot — plot_scatter","text":"data data.frame. format output prep_scatter() contain columns: 'name', 'buildout', phaseout', 'net'. sector Character. Sector filter data . scenario_source Character. Scenario source used plot caption. scenario Character. Scenario name used plot caption. year Integer. Year data filtered. region Character. Region filter data . title Character. Custom title different default. subtitle Character. Custom subtitle different default. alignment_limit Numeric. Limit applied x- y-axis scales alignment values colouring. default maximum absolute alignment value used. data_level Character. Level plotted data. Can 'group_var' 'company'. cap_outliers Numeric. Cap applied alignment values data. Values bigger cap plotted border plot. floor_outliers Numeric. Floor applied alignment values data. Values smaller floor plotted border plot. data_bopo data.frame. Data containing buildout phaseout alignment values. Must contain columns: 'year', 'sector', 'region', 'direction' either 'name_abcd' 'alignment_metric' 'exposure_weighted_net_alignment' plus column implied group_var. data_net data.frame. Data containing net alignment values. Must contain columns: group_var, 'year', 'sector', 'region', 'direction' either 'name_abcd' 'alignment_metric' 'exposure_weighted_net_alignment'. group_var Character. Vector length 1. Variable group . groups_to_plot Character vector. Groups filter .","code":""},{"path":"https://rmi-pacta.github.io/pacta.multi.loanbook/reference/plot_scatter.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Plot alignment scatterplot — plot_scatter","text":"object type \"ggplot\" data.frame","code":""},{"path":"https://rmi-pacta.github.io/pacta.multi.loanbook/reference/plot_scatter.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Plot alignment scatterplot — plot_scatter","text":"","code":"# TODO"},{"path":"https://rmi-pacta.github.io/pacta.multi.loanbook/reference/plot_scatter_alignment_exposure.html","id":null,"dir":"Reference","previous_headings":"","what":"Plot alignment scatterplot — plot_scatter_alignment_exposure","title":"Plot alignment scatterplot — plot_scatter_alignment_exposure","text":"Plot alignment scatterplot","code":""},{"path":"https://rmi-pacta.github.io/pacta.multi.loanbook/reference/plot_scatter_alignment_exposure.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Plot alignment scatterplot — plot_scatter_alignment_exposure","text":"","code":"plot_scatter_alignment_exposure(   data,   floor_outliers,   cap_outliers,   group_var,   currency )  prep_scatter_alignment_exposure(   data,   year,   region,   scenario,   group_var,   exclude_groups = \"benchmark\" )"},{"path":"https://rmi-pacta.github.io/pacta.multi.loanbook/reference/plot_scatter_alignment_exposure.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Plot alignment scatterplot — plot_scatter_alignment_exposure","text":"data data.frame. Holds net aggregated alignment metrics loan book level. Must contain columns: \"scenario\", \"region\", \"sector\", \"year\", \"exposure_weighted_net_alignment\", \"sum_loan_size_outstanding\" column implied group_var. floor_outliers Numeric. Floor applied alignment values data. Values smaller floor plotted border plot. cap_outliers Numeric. Cap applied alignment values data. Values bigger cap plotted border plot. group_var Character. Vector length 1. column group . Must available variables data. currency Character. Currency display plot labels. year Integer. Year data filtered. region Character. Region filter data data frame . scenario Character. Scenario filter data data frame . exclude_groups Character. Character specifying values group_var included analysis. useful remove benchmarks meant compared level. Defaults \"benchmark\".","code":""},{"path":"https://rmi-pacta.github.io/pacta.multi.loanbook/reference/plot_scatter_alignment_exposure.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Plot alignment scatterplot — plot_scatter_alignment_exposure","text":"object type \"ggplot\" data.frame","code":""},{"path":"https://rmi-pacta.github.io/pacta.multi.loanbook/reference/plot_scatter_alignment_exposure.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Plot alignment scatterplot — plot_scatter_alignment_exposure","text":"","code":"# TODO"},{"path":"https://rmi-pacta.github.io/pacta.multi.loanbook/reference/plot_scatter_animated.html","id":null,"dir":"Reference","previous_headings":"","what":"Plot alignment scatterplot — plot_scatter_animated","title":"Plot alignment scatterplot — plot_scatter_animated","text":"Plot alignment scatterplot","code":""},{"path":"https://rmi-pacta.github.io/pacta.multi.loanbook/reference/plot_scatter_animated.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Plot alignment scatterplot — plot_scatter_animated","text":"","code":"plot_scatter_animated(   data,   data_level = c(\"company\", \"group_var\"),   sector = NULL,   scenario_source = NULL,   scenario = NULL,   region = NULL,   title = NULL,   subtitle = NULL,   alignment_limit = NULL,   cap_outliers = NULL,   floor_outliers = NULL )  prep_scatter_animated(   data_bopo,   data_net,   data_level = c(\"group_var\", \"company\"),   sector,   region,   group_var,   groups_to_plot = NULL )"},{"path":"https://rmi-pacta.github.io/pacta.multi.loanbook/reference/plot_scatter_animated.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Plot alignment scatterplot — plot_scatter_animated","text":"data data.frame. format output prep_scatter_animated() contain columns: 'name', 'buildout', 'phaseout', 'net' 'year'. data_level Character. Level plotted data. Can 'group_var' 'company'. sector Character. Sector filter data . scenario_source Character. Scenario source used plot caption. scenario Character. Scenario name used plot caption. region Character. Region filter data . title Character. Custom title different default. subtitle Character. Custom subtitle different default. alignment_limit Numeric. Limit applied x- y-axis scales alignment values colouring. default maximum absolute alignment value data used. cap_outliers Numeric. Cap applied alignment values data. Values bigger cap plotted border plot. floor_outliers Numeric. Floor applied alignment values data. Values smaller floor plotted border plot. data_bopo data.frame. Data containing buildout phaseout alignment values. Must contain columns: 'year', 'sector', 'region', 'direction' either 'name_abcd' 'alignment_metric' 'exposure_weighted_net_alignment' plus column implied group_var. data_net data.frame. Data containing net alignment values. Must contain columns: group_var, 'year', 'sector', 'region', 'direction' either 'name_abcd' 'alignment_metric' 'exposure_weighted_net_alignment'. group_var Character. Vector length 1. Variable group . groups_to_plot Character vector. Groups filter .","code":""},{"path":"https://rmi-pacta.github.io/pacta.multi.loanbook/reference/plot_scatter_animated.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Plot alignment scatterplot — plot_scatter_animated","text":"object type \"plotly\" data.frame","code":""},{"path":"https://rmi-pacta.github.io/pacta.multi.loanbook/reference/plot_scatter_animated.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Plot alignment scatterplot — plot_scatter_animated","text":"","code":"# TODO"},{"path":"https://rmi-pacta.github.io/pacta.multi.loanbook/reference/run_pacta.html","id":null,"dir":"Reference","previous_headings":"","what":"run_pacta — run_pacta","title":"run_pacta — run_pacta","text":"run_pacta","code":""},{"path":"https://rmi-pacta.github.io/pacta.multi.loanbook/reference/run_pacta.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"run_pacta — run_pacta","text":"","code":"run_pacta(config)"},{"path":"https://rmi-pacta.github.io/pacta.multi.loanbook/reference/run_pacta.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"run_pacta — run_pacta","text":"config either single string defining path config YML file list object contains appropriate config params","code":""},{"path":"https://rmi-pacta.github.io/pacta.multi.loanbook/reference/run_pacta.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"run_pacta — run_pacta","text":"NULL (called side effects)","code":""}]
